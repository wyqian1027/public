Graph solution is preferred as it is much easier to debug and much more reader-friendly.