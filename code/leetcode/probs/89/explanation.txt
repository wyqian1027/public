If you think about it, one solution is by reversing all previous solutions and add 2**k.

res += res[::-1] + shift