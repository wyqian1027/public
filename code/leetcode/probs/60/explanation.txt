The trick is that divide n! permutations into n bins with size (n-1)! ... and continue until the end.

Initial k - 1 is essential. Since indexing starts with 1 in the example.