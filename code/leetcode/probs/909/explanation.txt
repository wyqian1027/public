DP would not work as encountered by infinite cycles. Use BFS ~