This problem is very general. Complexity in either method: O(NlgN)